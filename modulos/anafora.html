<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo: Anáfora</title>

    <!-- El CSS es idéntico para mantener la consistencia -->
    <style>
        :root {
            --primary-bg-light: #f4f4f9; --primary-text-light: #333; --card-bg-light: #ffffff; --header-bg-light: #ffffff; --accent-color: #007bff; --mark-bg-light: #ffe066; --border-color-light: #e0e0e0; --success-bg-light: #e6ffed;
            --primary-bg-dark: #121212; --primary-text-dark: #e0e0e0; --card-bg-dark: #1e1e1e; --header-bg-dark: #1e1e1e; --mark-bg-dark: #b38f00; --border-color-dark: #333; --success-bg-dark: #1c3b29;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; transition: background-color 0.3s, color 0.3s; line-height: 1.6; }
        body.light-mode { background-color: var(--primary-bg-light); color: var(--primary-text-light); }
        body.dark-mode { background-color: var(--primary-bg-dark); color: var(--primary-text-dark); }
        .main-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000; }
        body.light-mode .main-header { background-color: var(--header-bg-light); }
        body.dark-mode .main-header { background-color: var(--header-bg-dark); }
        .main-header h1 { font-size: 1.5rem; margin: 0; }
        .theme-toggle-btn { background-color: var(--accent-color); color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; }
        .main-footer { text-align: center; padding: 1rem; margin-top: 2rem; }
        .container { max-width: 800px; margin: 2rem auto; padding: 0 1rem; }
        .module-section { padding: 2rem; border-radius: 8px; margin-bottom: 2rem; }
        body.light-mode .module-section { background-color: var(--card-bg-light); border: 1px solid var(--border-color-light); }
        body.dark-mode .module-section { background-color: var(--card-bg-dark); border: 1px solid var(--border-color-dark); }
        .module-section h2 { margin-top: 0; color: var(--accent-color); border-bottom: 2px solid var(--accent-color); padding-bottom: 0.5rem; }
        .back-link { text-decoration: none; color: var(--accent-color); font-weight: bold; }
        mark { padding: 0.2em 0.4em; border-radius: 3px; }
        body.light-mode mark { background-color: var(--mark-bg-light); }
        body.dark-mode mark { background-color: var(--mark-bg-dark); color: var(--primary-text-dark); }
        .formula { text-align: center; font-size: 1.2rem; padding: 1rem; border: 2px dashed var(--accent-color); border-radius: 5px; margin: 1rem 0; }
        .bible-example { margin-top: 1.5rem; }
        .bible-example em { display: block; padding-left: 1rem; border-left: 3px solid #ccc; margin-bottom: 0.5rem; font-style: italic; }
        .exercise textarea { width: 100%; box-sizing: border-box; padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc; margin: 1rem 0; font-size: 1rem; }
        .exercise button { background-color: var(--accent-color); color: white; border: none; padding: 0.7rem 1.5rem; border-radius: 5px; cursor: pointer; margin-right: 0.5rem; }
        #show-answer-btn { background-color: #6c757d; }
        .feedback { margin-top: 1rem; font-weight: bold; min-height: 1.2em; }
        .correct-answer-box { margin-top: 1rem; padding: 1rem; border-radius: 5px; }
        body.light-mode .correct-answer-box { background-color: var(--success-bg-light); border: 1px solid green; }
        body.dark-mode .correct-answer-box { background-color: var(--success-bg-dark); border: 1px solid #3d8b40; }
        .fab-container { position: fixed; bottom: 2rem; right: 2rem; z-index: 1001; }
        .fab { background-color: var(--accent-color); color: white; border: none; border-radius: 50%; width: 60px; height: 60px; font-size: 1rem; text-align: center; box-shadow: 0 4px 8px rgba(0,0,0,0.2); cursor: pointer; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>

    <header class="main-header">
        <a href="../index.html" class="back-link">&larr; Volver al inicio</a>
        <h1>Anáfora</h1>
        <button id="theme-toggle" class="theme-toggle-btn">Cambiar Tema</button>
    </header>

    <main class="container" id="module-content">
       
        <section class="module-section">
            <h2>1. ¿Qué es una Anáfora?</h2>
            <p>La anáfora es la <strong>repetición intencionada de una o varias palabras al principio</strong> de versos o frases consecutivas. Su principal función es crear ritmo, dar énfasis a una idea y cohesionar el texto de una forma poética y memorable.</p>
            <div class="formula">
                <p><mark>Palabra(s) Repetida(s)</mark> + Frase 1<br><mark>Palabra(s) Repetida(s)</mark> + Frase 2</p>
            </div>
            <p>Un ejemplo célebre es el discurso de Martin Luther King Jr.: "<mark>Tengo un sueño</mark> que un día esta nación se levantará... <mark>Tengo un sueño</mark> que mis cuatro hijos pequeños vivirán un día en una nación donde no serán juzgados por el color de su piel...". La repetición ancla la idea principal en la mente del oyente.</p>
        </section>

        <section class="module-section">
            <h2>2. Ejemplos en la Vida Cotidiana</h2>
            <ul>
                <li>En canciones: "<mark>Corre, corre, corre</mark>, corazón...", "<mark>Mira que</mark> te mira Dios, <mark>mira que</mark> te está mirando...".</li>
                <li>En poesía: "<mark>Mientras</mark> las ondas de la luz al beso palpiten encendidas; <mark>mientras</mark> el sol las desgarradas nubes de fuego y oro vista...". (Bécquer)</li>
                <li>Al dar énfasis: "<mark>Todo</mark> se lo llevó el viento. <mark>Todo</mark> desapareció."</li>
            </ul>
        </section>

        <section class="module-section">
            <h2>3. Anáforas en la Biblia (Reina Valera 1960)</h2>
            <p>La anáfora es una de las figuras más comunes y poderosas en la poesía y la prosa bíblica, especialmente en la literatura de sabiduría y los salmos.</p>
            <div class="bible-example">
                <em>"<mark>Bienaventurados</mark> los pobres en espíritu... <br><mark>Bienaventurados</mark> los que lloran... <br><mark>Bienaventurados</mark> los mansos..." (Mateo 5:3-5)</em>
                <p><strong>Análisis:</strong> El Sermón del Monte utiliza esta anáfora para presentar una serie de enseñanzas con un ritmo solemne y unificador. La repetición de "Bienaventurados" (felices, dichosos) actúa como un estribillo que introduce cada nueva promesa y bendición, dándole una enorme fuerza retórica.</p>
            </div>
            <hr>
            <div class="bible-example">
                <em>"<mark>Tiempo de</mark> nacer, y <mark>tiempo de</mark> morir; <mark>tiempo de</mark> plantar, y <mark>tiempo de</mark> arrancar lo plantado; <mark>tiempo de</mark> matar, y <mark>tiempo de</mark> curar..." (Eclesiastés 3:2-3)</em>
                <p><strong>Análisis:</strong> La repetición constante de "tiempo de" crea una cadencia que refuerza la idea central del pasaje: que para cada actividad humana hay un momento designado bajo el sol. La estructura anafórica subraya el orden y la soberanía del tiempo.</p>
            </div>
             <hr>
            <div class="bible-example">
                <em>"<mark>Alabadle</mark> por sus proezas; <mark>Alabadle</mark> conforme a la muchedumbre de su grandeza. <mark>Alabadle</mark> a son de bocina; <mark>Alabadle</mark> con salterio y arpa." (Salmo 150:2-3)</em>
                <p><strong>Análisis:</strong> El salmo entero es una gran anáfora que usa la palabra "Alabadle" como un llamado insistente y gozoso a la adoración. La repetición crea un clímax de alabanza que va creciendo con cada verso.</p>
            </div>
        </section>

        <section class="module-section exercise">
            <h2>4. Ejercicio Práctico</h2>
            <p>Lee el siguiente pasaje. Identifica la frase anafórica (la que se repite) y explica qué idea principal busca enfatizar con esa repetición.</p>
            <p><em>"No nos cansemos, pues, de hacer bien; porque a su tiempo segaremos, si no desmayamos. Así que, <mark>según tengamos oportunidad</mark>, hagamos bien a todos, y mayormente a los de la familia de la fe. [...] <mark>según tengamos oportunidad</mark>, busquemos la paz con todos." (Gálatas 6:9-10, parafraseado para el ejercicio)</em></p>
            <textarea id="exercise-answer" rows="10" placeholder="Frase que se repite: ...&#10;Idea que enfatiza: ..."></textarea>
            
            <button id="check-answer-btn">Verificar Respuesta</button>
            <button id="show-answer-btn" style="display: none;">Ver Respuesta Correcta</button>
            
            <p id="feedback" class="feedback"></p>

            <div id="correct-answer" class="correct-answer-box" style="display: none;">
                <h4>Respuesta Detallada:</h4>
                <p><strong>Frase que se repite:</strong> "según tengamos oportunidad".</p>
                <p><strong>Idea que enfatiza:</strong> Enfatiza la importancia de la <strong>proactividad y la constancia</strong> en la vida cristiana. La repetición subraya que hacer el bien y buscar la paz no son acciones para momentos especiales, sino un deber constante que debe aprovechar cada momento y circunstancia que se presente.</p>
            </div>
        </section>
    </main>
    
    <div class="fab-container">
        <button id="download-pdf" class="fab">PDF</button>
    </div>

    <footer class="main-footer">
        <p>&copy; 2025 - Estudio de Figuras Literarias | Desarrollado por Julio Cesar Pineda Mora</p>
    </footer>

    <script src="../lib/html2pdf.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle'); /* ... */
            const storedTheme = localStorage.getItem('theme') || 'light-mode';
            document.body.classList.add(storedTheme);
            themeToggle.addEventListener('click', () => {
                const isDarkMode = document.body.classList.contains('dark-mode');
                document.body.classList.toggle('dark-mode', !isDarkMode);
                document.body.classList.toggle('light-mode', isDarkMode);
                localStorage.setItem('theme', isDarkMode ? 'light-mode' : 'dark-mode');
            });

            const checkAnswerBtn = document.getElementById('check-answer-btn'); /* ... */
            const showAnswerBtn = document.getElementById('show-answer-btn');
            const feedbackEl = document.getElementById('feedback');
            const correctAnswerEl = document.getElementById('correct-answer');
            checkAnswerBtn.addEventListener('click', () => {
                const answer = document.getElementById('exercise-answer').value.toLowerCase();
                showAnswerBtn.style.display = 'none';
                correctAnswerEl.style.display = 'none';
                if (answer.includes("según tengamos oportunidad") || answer.includes("oportunidad")) {
                    feedbackEl.textContent = "¡Excelente! Has identificado la frase repetida y su propósito.";
                    feedbackEl.style.color = 'var(--accent-color)';
                } else {
                    feedbackEl.textContent = "Casi lo tienes. Fíjate bien en las palabras que inician las dos ideas principales.";
                    feedbackEl.style.color = 'red';
                    showAnswerBtn.style.display = 'inline-block';
                }
            });
            showAnswerBtn.addEventListener('click', () => {
                correctAnswerEl.style.display = 'block';
                showAnswerBtn.style.display = 'none';
            });

            document.getElementById('download-pdf').addEventListener('click', () => { /* ... */
                const fabButton = document.querySelector('.fab-container');
                const content = document.getElementById('module-content');
                fabButton.style.visibility = 'hidden';
                const downloadBtn = document.getElementById('download-pdf');
                downloadBtn.textContent = '...';
                const opt = {
                    margin: 10,
                    filename: 'modulo-anafora.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true, letterRendering: true },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                    pagebreak: { mode: ['avoid-all', 'css', 'legacy'] },
                    renderer: 'canvas'
                };
                html2pdf().from(content).set(opt).save().then(() => {
                    fabButton.style.visibility = 'visible';
                    downloadBtn.textContent = 'PDF';
                });
            });
        });
    </script>
</body>
</html>