<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anáfora</title>

    <!-- Añadido: Font Awesome para los iconos -->
    <!-- Añadido: Font Awesome para los iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        
    <link rel="stylesheet" href="../css/modules.css">

</head>
<body>

    <header class="main-header">
        <a href="../index.html" class="back-link"><i class="fa-solid fa-arrow-left"></i> Volver</a>
        <h1><i class="fa-solid fa-arrows-rotate"></i>Anáfora</h1>
        <button id="theme-toggle" class="theme-toggle-btn" title="Cambiar tema">
            <i class="fa-solid fa-moon"></i>
        </button>
    </header>

    <main class="container" id="module-content">
       
        <section class="module-section">
            <h2><i class="fa-solid fa-circle-question"></i>1. ¿Qué es una Anáfora?</h2>
            <p>La anáfora es la <strong>repetición intencionada de una o varias palabras al principio</strong> de versos o frases consecutivas. Su principal función es crear ritmo, dar énfasis a una idea y cohesionar el texto de una forma poética y memorable.</p>
            <div class="formula">
                <p><i class="fa-solid fa-list-ol"></i><span><mark>Palabra(s) Repetida(s)</mark> + Frase 1<br><mark>Palabra(s) Repetida(s)</mark> + Frase 2</span></p>
            </div>
            <p>Un ejemplo célebre es el discurso de Martin Luther King Jr.: "<mark>Tengo un sueño</mark> que un día esta nación se levantará... <mark>Tengo un sueño</mark> que mis cuatro hijos pequeños vivirán un día en una nación donde no serán juzgados por el color de su piel...". La repetición ancla la idea principal en la mente del oyente.</p>
        </section>

        <section class="module-section">
            <h2><i class="fa-solid fa-comments"></i>2. Ejemplos en la Vida Cotidiana</h2>
            <ul>
                <li><i class="fa-solid fa-music fa-fw"></i>En canciones: "<mark>Corre, corre, corre</mark>, corazón...", "<mark>Mira que</mark> te mira Dios, <mark>mira que</mark> te está mirando...".</li>
                <li><i class="fa-solid fa-feather-pointed fa-fw"></i>En poesía: "<mark>Mientras</mark> las ondas de la luz al beso palpiten encendidas; <mark>mientras</mark> el sol las desgarradas nubes de fuego y oro vista...". (Bécquer)</li>
                <li><i class="fa-solid fa-bullhorn fa-fw"></i>Al dar énfasis: "<mark>Todo</mark> se lo llevó el viento. <mark>Todo</mark> desapareció."</li>
            </ul>
        </section>

        <section class="module-section">
            <h2><i class="fa-solid fa-book"></i>3. Anáforas en la Biblia (Reina Valera 1960)</h2>
            <p>La anáfora es una de las figuras más comunes y poderosas en la poesía y la prosa bíblica, especialmente en la literatura de sabiduría y los salmos.</p>
            <div class="bible-example">
                <em>"<mark>Bienaventurados</mark> los pobres en espíritu... <br><mark>Bienaventurados</mark> los que lloran... <br><mark>Bienaventurados</mark> los mansos..." (Mateo 5:3-5)</em>
                <p><i class="fa-solid fa-magnifying-glass-chart"></i><strong>Análisis:</strong> El Sermón del Monte utiliza esta anáfora para presentar una serie de enseñanzas con un ritmo solemne y unificador. La repetición de "Bienaventurados" (felices, dichosos) actúa como un estribillo que introduce cada nueva promesa y bendición, dándole una enorme fuerza retórica.</p>
            </div>
            <hr>
            <div class="bible-example">
                <em>"<mark>Tiempo de</mark> nacer, y <mark>tiempo de</mark> morir; <mark>tiempo de</mark> plantar, y <mark>tiempo de</mark> arrancar lo plantado..." (Eclesiastés 3:2)</em>
                <p><i class="fa-solid fa-magnifying-glass-chart"></i><strong>Análisis:</strong> La repetición constante de "tiempo de" crea una cadencia que refuerza la idea central del pasaje: que para cada actividad humana hay un momento designado bajo el sol. La estructura anafórica subraya el orden y la soberanía del tiempo.</p>
            </div>
             <hr>
            <div class="bible-example">
                <em>"<mark>Alabadle</mark> por sus proezas; <br><mark>Alabadle</mark> conforme a la muchedumbre de su grandeza. <br><mark>Alabadle</mark> a son de bocina..." (Salmo 150:2-3)</em>
                <p><i class="fa-solid fa-magnifying-glass-chart"></i><strong>Análisis:</strong> El salmo entero es una gran anáfora que usa la palabra "Alabadle" como un llamado insistente y gozoso a la adoración. La repetición crea un clímax de alabanza que va creciendo con cada verso.</p>
            </div>
        </section>

        <section class="module-section exercise">
            <h2><i class="fa-solid fa-pencil-alt"></i>4. Ejercicio Práctico</h2>
            <p>Lee el siguiente pasaje. Identifica la frase anafórica (la que se repite) y explica qué idea principal busca enfatizar con esa repetición.</p>
            <p><em>(Pasaje adaptado para el ejercicio) "Hermanos, orad por nosotros. <mark>En todo</mark> dad gracias, porque esta es la voluntad de Dios. <mark>En todo</mark> tiempo amad, <mark>en todo</mark> lugar servid."</em></p>
            <textarea id="exercise-answer" rows="10" placeholder="Frase que se repite: ...&#10;Idea que enfatiza: ..."></textarea>
            
            <button id="check-answer-btn"><i class="fa-solid fa-check-circle"></i>Verificar Respuesta</button>
            <button id="show-answer-btn" style="display: none;"><i class="fa-solid fa-eye"></i>Ver Respuesta Correcta</button>
            
            <p id="feedback" class="feedback"></p>

            <div id="correct-answer" class="correct-answer-box" style="display: none;">
                <h4>Respuesta Detallada:</h4>
                <p><strong>Frase que se repite:</strong> "En todo".</p>
                <p><strong>Idea que enfatiza:</strong> Subraya el carácter <strong>incondicional y universal</strong> de los mandatos. La repetición de "en todo" elimina cualquier excepción, enfatizando que la gratitud, el amor y el servicio no deben limitarse a circunstancias favorables, sino que deben ser una práctica constante en la vida del creyente.</p>
            </div>
        </section>
    </main>
    
    <div class="fab-container">
        <button id="download-pdf" class="fab" title="Descargar como PDF">
             <i class="fa-solid fa-file-pdf"></i>
        </button>
    </div>

    <footer class="main-footer">
        <p>&copy; 2025 - Estudio de Figuras Literarias | Desarrollado por Julio Cesar Pineda Mora</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- LÓGICA 1: MANEJO DEL TEMA (MODO OSCURO/CLARO) CON ICONO DINÁMICO ---
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = themeToggle.querySelector('i');

            const applyTheme = (theme) => {
                document.body.classList.remove('light-mode', 'dark-mode');
                document.body.classList.add(theme);
                localStorage.setItem('theme', theme);
                if (theme === 'dark-mode') {
                    themeIcon.className = 'fa-solid fa-sun';
                    themeToggle.title = 'Cambiar a modo claro';
                } else {
                    themeIcon.className = 'fa-solid fa-moon';
                    themeToggle.title = 'Cambiar a modo oscuro';
                }
            };
            themeToggle.addEventListener('click', () => {
                const newTheme = document.body.classList.contains('dark-mode') ? 'light-mode' : 'dark-mode';
                applyTheme(newTheme);
            });
            const storedTheme = localStorage.getItem('theme') || 'light-mode';
            applyTheme(storedTheme);

            // --- LÓGICA 2: EJERCICIO INTERACTIVO ---
            const checkAnswerBtn = document.getElementById('check-answer-btn');
            const showAnswerBtn = document.getElementById('show-answer-btn');
            const feedbackEl = document.getElementById('feedback');
            const correctAnswerEl = document.getElementById('correct-answer');
            checkAnswerBtn.addEventListener('click', () => {
                const answer = document.getElementById('exercise-answer').value.toLowerCase();
                showAnswerBtn.style.display = 'none';
                correctAnswerEl.style.display = 'none';
                // Lógica actualizada para el nuevo ejercicio
                if (answer.includes("en todo")) {
                    feedbackEl.textContent = "¡Excelente! Has identificado la frase repetida y su propósito.";
                    feedbackEl.style.color = 'var(--accent-color)';
                } else {
                    feedbackEl.textContent = "Casi lo tienes. Fíjate bien en las palabras que inician las tres acciones principales.";
                    feedbackEl.style.color = 'red';
                    showAnswerBtn.style.display = 'inline-block';
                }
            });
            showAnswerBtn.addEventListener('click', () => {
                correctAnswerEl.style.display = 'block';
                showAnswerBtn.style.display = 'none';
            });

            // --- LÓGICA 3: GENERADOR DE PDF CON FEEDBACK DE CARGA ---
            document.getElementById('download-pdf').addEventListener('click', () => {
                const fabContainer = document.querySelector('.fab-container');
                const content = document.getElementById('module-content');
                const downloadBtn = document.getElementById('download-pdf');
                const originalIcon = downloadBtn.innerHTML;

                fabContainer.style.visibility = 'hidden';
                downloadBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';

                const opt = {
                    margin: 10,
                    filename: 'modulo-anafora.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true, letterRendering: true },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                    pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
                };

                html2pdf().from(content).set(opt).save().then(() => {
                    fabContainer.style.visibility = 'visible';
                    downloadBtn.innerHTML = originalIcon;
                }).catch(err => {
                    console.error("Error al generar el PDF:", err);
                    fabContainer.style.visibility = 'visible';
                    downloadBtn.innerHTML = originalIcon;
                });
            });
        });
    </script>
</body>
</html>
